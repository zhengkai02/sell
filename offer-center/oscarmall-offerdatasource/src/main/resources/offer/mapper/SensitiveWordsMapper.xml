<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.iwhalecloud.retail.offer.mapper.SensitiveWordsMapper">
    
    <select id="qryAllSensitiveWords" resultType="com.iwhalecloud.retail.offer.entity.SensitiveWords">
        select * from tbl_sensitive_words a where 1 = 1 and a.state <![CDATA[<>]]> 'X'
        <if test="request.qt != null and request.qt.length() >0 ">
            <bind name="pattern" value="'%' + request.qt + '%'" />
            and a.words like #{pattern}
        </if>
    </select>

    <select id="qryAllSensWords" resultType="com.iwhalecloud.retail.offer.entity.SensitiveWords">
        select * from tbl_sensitive_words where state <![CDATA[<>]]> 'X'
    </select>

    <select id="qryAllSensWordByTenantId" resultType="com.iwhalecloud.retail.offer.entity.SensitiveWords">
        select * from tbl_sensitive_words where state <![CDATA[<>]]> 'X' and tenant_id = #{tenantId}
    </select>


    <select id="listSensitiveWordsByState" resultType="java.lang.String">
        select words
          from tbl_sensitive_words
         where 1 = 1
        <if test="state != null and state != ''">
           and state = #{state}
        </if>
    </select>

</mapper>